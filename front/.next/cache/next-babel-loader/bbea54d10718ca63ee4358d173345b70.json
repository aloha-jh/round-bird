{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ljh\\\\Desktop\\\\all\\\\DigitalGallery\\\\front\\\\components\\\\PostForm.js\";\nvar __jsx = React.createElement;\nimport React, { useCallback, useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { TextareaAutosize, IconButton, Button, CardMedia, CircularProgress } from '@material-ui/core';\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nimport { ADD_POST_REQUEST } from '../reducers/post';\n\nconst PostForm = () => {\n  const dispatch = useDispatch();\n  const {\n    imagePaths,\n    postAdded\n  } = useSelector(state => state.user);\n  const {\n    0: textArea,\n    1: setTextArea\n  } = useState('');\n  useEffect(() => {\n    setTextArea('');\n  }, [postAdded === true]);\n  const onSubmit = useCallback(() => {\n    dispatch({\n      type: ADD_POST_REQUEST,\n      data: {\n        textArea\n      }\n    });\n  }, []);\n  const onChangeTextArea = useCallback(e => {\n    setTextArea(e.target.value);\n  }, []);\n  return __jsx(\"form\", {\n    encType: \"multipart/form-data\",\n    onSubmit: onSubmitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, __jsx(TextareaAutosize, {\n    \"aria-label\": \"\",\n    centered: true,\n    value: textArea,\n    onChange: onChangeTextArea,\n    rowsMin: 9,\n    style: {\n      width: 600,\n      padding: 15\n    },\n    placeholder: \"\\uC624\\uB298 \\uD558\\uB8E8\\uB294 \\uC5B4\\uB560\\uB098\\uC694?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }), __jsx(\"input\", {\n    type: \"file\",\n    multiple: true,\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }), __jsx(IconButton, {\n    color: \"primary\",\n    \"aria-label\": \"upload picture\",\n    component: \"span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, __jsx(PhotoCamera, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  })), __jsx(Button, {\n    color: \"primary\",\n    style: {\n      float: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, \"\\uC62C\\uB9AC\\uAE30\", isAddingPost && __jsx(CircularProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 37\n    }\n  })), imagePaths && imagePaths.map((v, i) => {\n    return __jsx(React.Fragment, null, __jsx(CardMedia, {\n      image: \"http://localhost:3000/\" + v,\n      alt: v,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 19\n      }\n    }), __jsx(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 19\n      }\n    }, \"\\uC81C\\uAC70\"));\n  }));\n};\n\nexport default PostForm;","map":{"version":3,"sources":["C:/Users/ljh/Desktop/all/DigitalGallery/front/components/PostForm.js"],"names":["React","useCallback","useState","useEffect","useSelector","useDispatch","TextareaAutosize","IconButton","Button","CardMedia","CircularProgress","PhotoCamera","ADD_POST_REQUEST","PostForm","dispatch","imagePaths","postAdded","state","user","textArea","setTextArea","onSubmit","type","data","onChangeTextArea","e","target","value","onSubmitForm","width","padding","float","isAddingPost","map","v","i"],"mappings":"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","sourcesContent":["import React ,{ useCallback ,useState, useEffect }from 'react'; \r\nimport { useSelector , useDispatch } from 'react-redux'; \r\nimport { TextareaAutosize ,IconButton, Button, CardMedia, CircularProgress }from '@material-ui/core'; \r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\r\nimport { ADD_POST_REQUEST } from '../reducers/post';\r\n\r\nconst PostForm = () =>{\r\n    const dispatch = useDispatch();\r\n    const { imagePaths ,postAdded } = useSelector(state=>state.user);\r\n    const [ textArea, setTextArea ] = useState('');\r\n\r\n\r\n    useEffect(()=>{\r\n        setTextArea('');\r\n    },[postAdded === true])\r\n\r\n    const onSubmit = useCallback(()=>{\r\n        dispatch({\r\n            type:ADD_POST_REQUEST,\r\n            data:{\r\n                textArea,\r\n            }\r\n        })\r\n    },[]);\r\n    const onChangeTextArea = useCallback((e)=>{\r\n        setTextArea(e.target.value);\r\n    },[]);\r\n\r\n    return(\r\n        <form encType=\"multipart/form-data\" onSubmit={onSubmitForm}>\r\n            <TextareaAutosize aria-label=\"\" centered value={textArea} onChange={onChangeTextArea }\r\n            rowsMin={9} style={{width:600, padding:15}} placeholder=\"오늘 하루는 어땠나요?\" />      \r\n            <input type=\"file\" multiple hidden />\r\n            <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                <PhotoCamera />\r\n            </IconButton> \r\n            <Button color=\"primary\" style={{float:'right'}}>\r\n                올리기{isAddingPost && <CircularProgress />}\r\n                </Button>\r\n            {imagePaths && imagePaths.map( (v,i)=>{\r\n                return(\r\n                <><CardMedia \r\n                image={\"http://localhost:3000/\"+v} alt={v}\r\n                /><Button>제거</Button>\r\n                </>\r\n                )\r\n            })} \r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PostForm;\r\n\r\n             "]},"metadata":{},"sourceType":"module"}